import Renderer from "map/Renderer";
import State from "map/data/State";

/******************************/

export default function featureCanvasResize(
    canvas: HTMLCanvasElement,
    renderer: Renderer,
    state: State
): void {
    function setBodySize (): void {
        if (canvas.parentElement) {
            let { clientWidth: width, clientHeight: height } = canvas.parentElement;

            canvas.setAttribute('width', width.toString());
            canvas.setAttribute('height', height.toString());

            Object.assign(canvas.style, {
                width: `${ width }px`,
                height: `${ height }px`
            });

            state.setScreenSize(width, height);
            renderer.updateResolution();
        }
    };

    window.addEventListener(
        'resize',
        setBodySize,
        false
    );
    setBodySize();
}