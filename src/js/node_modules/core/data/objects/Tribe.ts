import Item from './Item';
import Character from './Character';
import Village from './Village';

/******************************/

export default class Tribe extends Item {
    tag: string = null;
    characters: {[key: number]: Character} = {};
    memberCount: number = 0;
    villageCount: number = 0;
    pointsDef: number = 0;
    pointsOff: number = 0;
    pointsTotal: number = 0;
    victoryPoints: number = 0;
    power: number = 0;
    rank: number = 0;

    /******************************/

    addCharacter(character: Character) {
        if (!this.characters[ character.id ]) {
            this.characters[ character.id ] = character;
            this.memberCount++;
        }
    }

    getCharacters(): Character[] {
        let array: Character[] = [];

        for (let x in this.characters) {
            array.push(this.characters[ x ]);
        }

        return array;
    }

    getVillages(): Village[] {
        let array: Village[] = [];

        for (let x in this.characters) {
            let villages = this.characters[ x ].getVillages();

            array = array.concat(villages);
        }

        return array;
    }
}
