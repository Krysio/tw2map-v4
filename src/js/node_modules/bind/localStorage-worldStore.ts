import { WorldStore } from "stores/world";

/******************************/

export default function bindLocalStorageWorldStore(
    worldStore: WorldStore
) {
    let unsubscriber = worldStore.subscribe(() => {
        let worldState = worldStore.getState();

        window.localStorage.setItem(
            worldState.worldKey,
            JSON.stringify(worldState)
        );
    });

    worldStore.actions.importDb(worldStore.getState().worldKey);
}