import Events from "canvas/Events";
import { MapDataApi } from "data";

/******************************/

export default function featureClickMap(
    events: Events,
    mapData: MapDataApi
): void {
    let previousVillage = null;

    events.on('changed clicked/tile', ({x, y}) => {
        let village = mapData.getVillageByCoords(x, y);

        if (previousVillage !== village) {
            previousVillage = village;
            events.emit('changed clicked/item', village);
        }
    });
}