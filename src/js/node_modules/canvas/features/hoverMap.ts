import Events from 'canvas/Events';
import { MapDataApi } from 'data';
import { Commands } from 'canvas';
import State from 'canvas/data/State';

/******************************/

export default function featureHoverTile(
    events: Events,
    mapData: MapDataApi,
    state: State,
    commands: Commands
): void {
    events.on('changed hover/tile', ({ x, y }) => {
        let village = mapData.getVillageByCoords(x, y);

        commands.setHoverItem(village);
    });
    events.on('canvas/leave', () => {
        commands.setHoverItem(null);
    });
    events.on('canvas/enter', () => {
        commands.setHoverItem(
            mapData.getVillageByCoords(
                ...state.getHoverTile()
            )
        );
    });
}