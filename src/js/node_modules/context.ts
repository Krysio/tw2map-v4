import initData, { MapDataApi } from 'data';
import initCanvas, { CanvasApi } from 'canvas';
import createStores, { StoreBox } from 'stores';

/******************************/

export class Context {
    data: MapDataApi;
    mainCanvas: CanvasApi;
    stores: StoreBox

    constructor(
        canvasElement: HTMLCanvasElement
    ) {
        this.data = initData();
        this.mainCanvas = initCanvas(canvasElement, this.data);
        this.stores = createStores();
    }
}

/******************************/

export default function createContext() {
    const mainCanvasElement: HTMLCanvasElement = document.createElement('canvas');

    return new Context(mainCanvasElement);
}