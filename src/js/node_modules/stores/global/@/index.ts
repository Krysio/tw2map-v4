import * as $mapColors from 'stores/@/mapColors';

/******************************/

export function createState() {
    return {
        mapColors: $mapColors.initStateMapColors,
        analytics: {
            dontSpy: false,
            gdrpShown: false
        }
    };
}

export const StatePrototype = {
    clone(
        this: State
    ) {
        return wrapper({
            ...this,
            ...{ analytics: { ...this.analytics } }
        });
    }
};

/******************************/

export function wrapper(
    stateObject: State
): WState {
    Object.setPrototypeOf(stateObject, StatePrototype);

    return stateObject as WState;
}

export type State = ReturnType<typeof createState>;
export type WState = State & typeof StatePrototype;
