import * as React from 'react';
import ModalManager, { Modal, Body, Hook } from "libs/ModalManager";
import { Api } from 'core';
import LazyPromise from 'libs/LazyPromise';

/******************************/

export default function featureSettings(
    modalManager: ModalManager,
    mainMap: Api
): (tab?: string) => Promise<string> {
    let hook: Hook = modalManager.createHook(),
        lazyPromise = new LazyPromise();

    hook.setLayout(
        <Modal hidden={ true } hideNotUnmount={ true }>
            <Body style={{ minWidth: '20em' }}>
            </Body>
        </Modal>
    );

    function open(): Promise<string> {
        if (hook.isHidden()) {
            hook.show();
            hook.setCursorPosition();
        }

        return lazyPromise.get();
    }

    return open;
}