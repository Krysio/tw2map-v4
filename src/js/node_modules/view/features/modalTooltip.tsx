import * as React from 'react';
import ModalManager, { Modal, Body, Hook } from "libs/ModalManager";
import { ViewContext } from 'view/viewContext';
import Tooltip from 'view/components/Tooltip';

/******************************/

export default function featureTooltip(
    context: ViewContext
): void {
    let hook: Hook = context.modalSystem.createHook();

    hook.setLayout(
        <Modal
            hidden={ true }
            hideNotUnmount={ true }
            hideWhenInactive={ true }
            spyCursor={ true }
            canBeActive={ false }
            className="tooltipModal"
        >
            <Body className="p-0">
                <Tooltip
                    hook={ hook }
                    context={ context }
                />
            </Body>
        </Modal>
    );

    context.data.events.on('changed data/base', hook.active);

    window['mTooltip'] = hook;
}