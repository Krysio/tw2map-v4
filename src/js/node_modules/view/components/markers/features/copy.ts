import { ViewContext } from 'view/viewContext';

/******************************/

export default async function featureCopy(
    context: ViewContext
) {
    const worldStore = context.stores.world;
    const worldState = worldStore.getState();
    const markersState = worldState.getMarkers();
    const activePackage = markersState.getActivePackage();
    const newName = `${ activePackage.name } - copy`;

    context.services.prompt(
        'Rename',
        newName
    ).then(
        (newName) => worldStore.actions.packageClone(activePackage.uuid, {name: newName}, true),
        () => worldStore.actions.packageClone(activePackage.uuid, {name: newName}, true)
    );
}