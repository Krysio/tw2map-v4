import Events from "data/Events";
import MapData from "data/data/MapData";
import commandLoadBaseData from "data/commands/loadBaseData";
import commandLoadBackgroundData from "data/commands/loadBackgroundData";
import serviceSearch from "data/services/search";
import commandCleanData from "data/commands/clean";

/******************************/

export default function initData() {
    const events = new Events();
    const mapData = new MapData();

    return {
        events,

        getVillageByCoords: mapData.getVillageByCoords,
        getTileType: mapData.tileGetType,
        villageInterator: mapData.villageInterator,

        commands: {
            ...commandLoadBaseData(events, mapData),
            ...commandLoadBackgroundData(events, mapData),
            ...commandCleanData(events, mapData),
            ...serviceSearch(mapData)
        }
    };
}
export type MapDataApi = ReturnType<typeof initData>;